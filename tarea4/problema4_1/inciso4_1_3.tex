\emph{
	Pruebe que $\F_1,\F_2,\ldots, $ son condicionalmente independientes dada 
	$\G$ si y s\'olo si para cada $n\geq 1$, $\F_{n+1}$ es condicionalmente 
	independiente de $\F_1,\ldots, \F_n$ dada $\G$. 
}

\afterstatement\pn

Primero demostraremos la suficiencia. Para ello emplearemos el ejercicio anterior.
Sean $H_1, \dots, H_{n+1}$ variables aleatorias $\F_1, \dots, \F_{n+1}$-medibles (respectivamente) 
y acotadas.\pn

Sea $P = \{ A : A = F_1 \cap \dots \cap \F_n \cap \G \text{ donde } F_i \in \F_i \text{ y } G \in \G \}$,
Es claro que $P \subset \sigma(\F_1, \dots, \F_n, \G)$. También es fácil ver que no es vacía ($\Omega$ es uno de sus elementos), 
y que es cerrada bajo intersecciones finitas. En otras palabras $C$ es un $\pi$-sistema. Además, justo
igual que antes, tenemos que $\sigma(P) = \sigma(\F_1, \dots, \F_n, \G)$.\pn

Ahora sea $D = \{ A \in \sigma(\F_1, \dots, \F_n, \G) : \E(H_{n+1} \indic_A) = \E(\E(H_{n+1} | \G) \indic_A) \}$

$D$ es un sistema de Dynkin. Verificar que $\Omega \in D$ es trivial. Y las propiedades de ser cerrado bajo suceciones crecientes y 
bajo diferencias (diferencias donde un conjunto está contenido en el otro) se demuestran exactamente igual que en el inciso
anterior de este mismo problema [\ref{problema4_1:inciso2}].\pn

Entonces, como en el ejercicio anterior, basta demostrar que $P \subset D$, y entonces el lema de clases
de Dynkin nos asegurará que 
\begin{align}
 \E(H_{n+1} | \sigma(\F_1, \dots, \F_n, \G)) = \E(H_{n+1} | \G)   \label{problema4_1:hipotesis_suficiencia_4_1_3}
\end{align}\pn

Sea entonces $A \in P$. Donde $A = F_1 \cap \dots \cap F_n \cap G$ con $F_i \in \F_i$ y $G \in \G$.

\begin{align}
    \E(H_{n+1} \indic_A)    &=  \E(H_{n+1} \indic_{F_1} \cdots \indic_{F_n} \indic_{G})                                                     \\ 
                            &=  \E(\E(H_{n+1} \indic_{F_1} \cdots \indic_{F_n} \indic_{G} | \G))                                            \\ 
                            &=  \E(\indic_{G} \E(H_{n+1} \indic_{F_1} \cdots \indic_{F_n} | \G))                                            \\
                            &\comment{gracias a que $G \in \G$}                                                                             \\
                            &=  \E\bigg(\indic_{G} \E(H_{n+1} | \G) \E\big(\indic_{F_1} \cdots \indic_{F_n} | \G\big)\bigg)                 \\
                            &\lcomment{gracias a que $\F_1, \F_2, \dots$ son}                                                               \\
                            &\rcomment{condicionalmente independientes dada $\G$}                                                           \\
                            &=  \E\bigg(\E\big( \indic_{G} \E(H_{n+1} | \G) \indic_{F_1} \cdots \indic_{F_n} | \G\big)\bigg)                \\
                            &\lcomment{nótese que las variables que entraron son todas}                                                     \\
                            &\rcomment{$\G$-medibles}                                                                                       \\
                            &=  \E\bigg(\E\big( \E(H_{n+1} | \G) \indic_{G} \indic_{F_1} \cdots \indic_{F_n} | \G\big)\bigg)                \\
                            &=  \E\bigg(\E\big( \E(H_{n+1} | \G) \indic_{A} | \G\big)\bigg)                                                 \\
                            &=  \E\big( \E(H_{n+1} | \G) \indic_{A} \big).
\end{align}\pn

Con esto queda demostrado que $A \in D$ y por lo tanto $P \subset D$. Utilizando el lema de clases de Dynkin obtenemos
\eqref{problema4_1:hipotesis_suficiencia_4_1_3}, y aplicando el resultado del inciso anterior [\ref{problema4_1:inciso2}],
obtenemos que $\F_{n+1}$ es condicionalmente independiente de $\F_1, \dots, \F_n$ dada $\G$.\pn


Ahora demostraremos la necesidad. Nuestra hipótesis es que para cada $n \geq 1$, $\F_{n+1}$ 
es condicionalemente independiente de $\F_1, \dots, \F_n$ dada $\G$. La demostración se hará por 
inducción sobre $n$.\pn

\begin{itemize}
	\item 
        \textbf{Base De Inducción.}
        
        Si $n = 1$, no hay nada que demostrar, pues por hipótesis $\F_2$ es condicionalmente independiente de $\F_1$ dada $\G$.\pn
        
    \item
        \textbf{Hipótesis De Inducción.}
        
        Sea $n \geq 2$ tal que $\F_1, \F_2, \dots, \F_n$ son condicionalmente independientes (nótese que la base de inducción 
        asegura que existe tal $n \geq 2$).\pn
        
    \item
        \textbf{Paso Inductivo.}
        
        Sean $H_i$ variables $\F_{i}$-medibles y acotadas con $1 \leq i \leq n+1$.\pn 
        
        Dado que $\F_{n + 1}$ es condicionalmente independiente de $\F_1, \dots, \F_n$ dada $\G$, la 
        equivalencia de [\ref{problema4_1:inciso2}] nos dice
        
        \begin{align}
            \E(H | \sigma(\F_1, \dots, \F_n, \G)) = \E(H | \G). \label{problema4_1:equivalencia_necesidad_4_1_3}
        \end{align}\pn

        Sea entonces $A \in \G$.
        
        \begin{align}
            \E(H_1 \cdots H_{n+1} \indic_A)     &=  \E(\E(H_1 \cdots H_{n+1} \indic_A | \sigma(\F_1, \F_2, \dots, \F_n, \G)))               \\
                                                    &=  \E(H_1 \cdots H_n \indic_A \E(H_{n+1}  | \sigma(\F_1, \F_2, \dots, \F_n, \G)))      \\
                                                    &=  \E(H_1 \cdots H_n \indic_A \E(H_{n+1}  | \G))                                       \\
                                                    &\comment{ésto último gracias a \eqref{problema4_1:equivalencia_necesidad_4_1_3}}       \\
                                                    &=  \E(\E(H_1 \cdots H_n \indic_A \E(H_{n+1}  | \G) | \G))                              \\
                                                    &=  \E(\E(H_1 \cdots H_n | \G) \indic_A \E(H_{n+1}  | \G))                              \\
                                                    &\comment{se sacaron las variables $\G$-medibles}                                       \\
                                                    &=  \E(\E(H_1 \cdots H_n | \G) \E(H_{n+1} | \G) \indic_A)                               \\
                                                    &=  \E(\E(H_1 | \G) \cdots \E(H_n | \G) \E(H_{n+1} | \G) \indic_A)                      \\
                                                    &\comment{por hipótesis de inducción}                                              
        \end{align}
            
        Por lo tanto, sobre $\G$, cualquier versión de $\E(H_1 | \G) \cdots \E(H_n | \G) \E(H_{n+1} | \G)$ siempre integra lo mismo que 
        $H_1 \cdots H_{n+1}$.\pn
\end{itemize}

Con esto queda demostrado que $F_1, F_2, \cdots$ son condicionalmente independientes dada $\G$.